function FormValidator(e=null){function t(e,t,r,a,i=null,o=!1,s){function l(){innerWidth>s?e.setAttribute("data-vp","large"):e.setAttribute("data-vp","small");var l=$$.ce("DIV");if("left"==r?("error"==t?l.setAttribute("class","vMsgBox vLeft error le"):"warning"==t?l.setAttribute("class","vMsgBox vLeft warning lw"):"success"==t&&l.setAttribute("class","vMsgBox vLeft success ls"),""!=v&&l.setAttribute("style",v)):"right"==r?("error"==t?l.setAttribute("class","vMsgBox vRight error re"):"warning"==t?l.setAttribute("class","vMsgBox vRight warning rw"):"success"==t&&l.setAttribute("class","vMsgBox vRight success rs"),""!=h&&l.setAttribute("style",h)):"bottom"==r&&("error"==t?l.setAttribute("class","vMsgBox vBottom error be"):"warning"==t?l.setAttribute("class","vMsgBox vBottom warning bw"):"success"==t&&l.setAttribute("class","vMsgBox vBottom success bs"),""!=g&&l.setAttribute("style",g)),"error"==t&&o&&e.classList.add("wError"),l.appendChild(document.createTextNode(a)),e.appendChild(l),y[e.getAttribute("data-fieldId")]=1,"left"==r){n(u=e.querySelector(".vLeft"),r,15,i)}else if("right"==r){n(u=e.querySelector(".vRight"),r,15,i)}else if("bottom"==r){var u=e.querySelector(".vBottom");!function(e,t=null){t=null==t?e.scrollHeight:t,t=t<35?35:t,e.style.height="0px",e.scrollHeight,e.style.height=t+"px"}(u,null!=i&&void 0!=i[0]?i[0]:null)}}"left"!=r&&"right"!=r||innerWidth<s&&(r="bottom"),null==e.getAttribute("data-logStatus")&&(e.setAttribute("data-logStatus","1"),e.setAttribute("data-fieldId","f"+(w+1)),w++);var u=e.querySelector(".vMsgBox");if(null==u)l();else if((innerWidth<s?"small":"large")!=e.getAttribute("data-vp")){var c=e.querySelector(".vMsgBox");e.removeChild(c),l()}else!function(){if(("left"==r||"right"==r)&&(u.style["white-space"]="nowrap",u.style["line-height"]="250%",u.style.width="auto",u.style["text-align"]="left",u.style.height="auto",u.style["min-height"]=$$.sm(u).cssStyle("height"),null!=i)){var t=null;if(t="left"==r?e.querySelector(".vLeft"):e.querySelector(".vRight"),null!=i[1]||void 0!=i[1]){var n=t.getAttribute("style");t.setAttribute("style",n+i[1])}}u.innerHTML=a,y[e.getAttribute("data-fieldId")]=1}();"error"==t&&e.classList.add("lerror")}function r(){var t=e.querySelector(".vFormOverlay");t.classList.remove("vFormOverlayShow"),t.classList.add("vFormOverlayHide"),"button"==N&&a()}function a(){var t=e.querySelector("."+O);null==t?console.warn("No element matched with the specified class ".submitButtonClass):(t.classList.remove("vButtonLoader"),t.scrollHeight,setTimeout(function(){t.classList.remove("initButtonLoader")},300))}function i(e){throw new Error("To use the '"+e+"()' method, initialization must be done. Initialize using the 'initialize()' method")}function n(e,t,r,a){"left"==t?e.style.right="calc(100% + "+r+"px)":"right"==t&&(e.style.left="calc(100% + "+r+"px)");var i=e.scrollWidth;if(e.style.width="0px",e.scrollWidth,null!=a&&(null!=a[1]||void 0!=a[1])){var n=e.getAttribute("style");e.setAttribute("style",n+a[1])}e.style.width=i+"px"}function o(e,t){var r=null;r="error"==e?["terr","merr"]:"warning"==e?["twrn","mwrn"]:["tsuc","msuc"];var a=$$.ce("DIV"),i=$$.ce("DIV"),n=$$.ce("DIV"),o=$$.ce("DIV"),s=$$.ce("BUTTON");return $$.sm(a).center(),a.classList.add("FbMsgBox"),i.setAttribute("class","ttl "+r[0]),n.setAttribute("class","msgCon "+r[1]),o.classList.add("buttonCon"),s.setAttribute("id","fbBtn"),i.appendChild(document.createTextNode("Submission Feedback")),n.appendChild(document.createTextNode(t)),"terr"==r[0]?(s.setAttribute("data-rs","err"),s.appendChild(document.createTextNode("Try again"))):(s.setAttribute("data-rs","suc"),s.appendChild(document.createTextNode("OK"))),o.appendChild(s),a.appendChild(i),a.appendChild(n),a.appendChild(o),a}function s(e,t){return 1==e[t]?"":":"+e[t]}function l(e){var t={e:"error",w:"warning",s:"success"},r=e.split(":");if(2==r.length){var a=r[0].toLowerCase();return void 0==t[a]?["error",r[1]]:[t[a],r[1]]}return["error",r[0]]}function u(e,t,r,a){e[e.length-1]==t&&b.message.clear(r,a)}function c(e,t,r){if(e instanceof Element)t.val="single";else try{"NodeList"==Object.getPrototypeOf(e).constructor.name&&(t.val="group")}catch(e){throw new Error("'"+r+"' method argument 1 expects a valid HTML element or HTMLCollection")}}function d(e){var t=null;if(null!=F)try{var r=e.getAttribute(F);t=null!=r?$$.sm(e).getParent(r):e.classList.contains("dField")||e.classList.contains("vDateIcon")?$$.sm(e).getParent(3):e.parentNode}catch(r){t=e.parentNode}else t=e.classList.contains("dField")||e.classList.contains("vDateIcon")?$$.sm(e).getParent(3):e.parentNode;return t}if(null!=e){validateElement(e,"'config.form' property must be an element");"static"==$$.sm(e).cssStyle("position")&&(e.style.position="relative");var f="FORM"==e.nodeName?e:e.querySelector("FORM");if(null==f)throw new Error("The specified form in FormValidator(x) constructor has no FORM interface. Please wrap the form container with FORM element")}var g="",m=!1,v="",h="",b=this,p="POST",y={},w=0,L="rotate",S=null,x=null,A=!1,C="",F=null,E=null,T={rotate:["@keyframes vRotate{from{transform:rotate(0deg) translateY(-50%) translateX(-50%);} to{transform:rotate(360deg) translateY(-50%) translateX(-50%);}}","vRotate"]},B=null,$=null,O="",N="form",k={required:1,minLength:1,maxLength:1,alpha:1,integer:1,alphaNum:1,float:1,ext:1,minSize:1,maxSize:1,callBack:1,email:1,file:1,notIn:1,trim:1,noSpace:1,fullName:1},M={POST:1,GET:1,PUT:1,DELETE:1};this.message={write:function(e,a,n,o,s=null){if(1==m){var l={val:null},u=e.getAttribute(C);u=void 0!=u?parseInt(u):866,c(e,l,"Obj.message()"),null!=s&&validateArray(s,"message.write() method argument 5 must be an array of string '[a, b]', which holds a valid CSS styles for bottom or right or left messageBox");var f=e;r();var g=d(e="single"==l.val?e:e[0]);g.style.position="relative";var v=!1;if("radio"!=e.getAttribute("type")&&"checkbox"!=e.getAttribute("type")&&(v=!0),"single"==l.val)f.classList.contains("vItem")||f.classList.add("vItem");else if(!f[0].classList.contains("vItem"))for(var h=0;h<f.length;h++)f[h].classList.add("vItem");if(validateString(a,"'Obj.write()' method needs a string as argument 2")&&"success"!=a&&"error"!=a&&"warning"!=a)throw new Error("'Obj.write()' method argument 2 must be string value of either: 'success', 'warning', or 'error'");if(validateString(n,"'Obj.write()' method needs a string as argument 3")&&"bottom"!=n&&"left"!=n&&"right"!=n)throw new Error("'Obj.write()' method argument 3 must be string value of either: 'bottom', 'left', or 'right'");validateString(o,"'Obj.write()' method needs a string (The message) as argument 4"),t(g,a,n,o,s,v,u)}else i("write")},clear:function(e){if(1==m){validateElement(e,"'write' method needs a valid HTML element as argument 1");!function(e){var t="",r=null,a=e.querySelector(".vMsgBox");if(null!=a){a.classList.contains("vRight")?t="right":a.classList.contains("vLeft")?t="left":a.classList.contains("vBottom")&&(t="bottom");var i=e.querySelector(".vMsgBox");if(null!=i)if("left"==t||"right"==t){if(!i.classList.contains("vRight")&&!i.classList.contains("vLeft"))throw new Error("No left or right message found to clear, recheck 'clear()' method argument 2");i.style.width=i.scrollWidth+"px",i.scrollWidth,i.classList.add("clear"),i.style.color="transparent",i.style.width="0",r=e.getAttribute("data-fieldId"),delete y[r]}else"bottom"==t&&i.classList.contains("vBottom")&&(i.classList.add("clear"),i.scrollHeight,i.style.color="transparent",i.style.height="0",r=e.getAttribute("data-fieldId"),delete y[r]);e.classList.remove("lerror","rerror","berror","wError")}}(d(e))}else i("clear")}},this.initialize=function(){if(0==m){if(null==e)throw new Error("Cannot initialize without settinig a form to perform validation on, pass target form to FormValidator() contructor, to set target form");!function(){if(null==$$.ss("style[data-id='formValidatorStyles']")){var e="";"custom"!=L?(e+=T[L][0],e+=" .vFormLoader {animation-name:"+T[L][1]+";}",null!=x&&(e+=" .vFormLoader::before {"+x+"}")):(e+=S[0],e+=".vFormLoader {"+S[1]+"}",e+=" .vFormLoader ::before{"+S[2]+"}"),attachStyleSheet("formValidatorStyles",e)}}(),function(){var t=$$.ce("DIV");if(t.classList.add("vFormOverlay"),"form"==N){var r=$$.ce("DIV");r.classList.add("vFormLoader"),$$.sm(r).center(),t.appendChild(r)}e.appendChild(t)}(),document.addEventListener("transitionend",function(t){t.target.classList.contains("vMsgBox")&&t.target.classList.contains("error")&&0==t.target.classList.contains("clear")?t.target.style.color=$$.sm(e).cssStyle("--error-color"):t.target.classList.contains("vMsgBox")&&t.target.classList.contains("warning")&&0==t.target.classList.contains("clear")?t.target.style.color=$$.sm(e).cssStyle("--warning-color"):t.target.classList.contains("vMsgBox")&&t.target.classList.contains("success")&&0==t.target.classList.contains("clear")?t.target.style.color=$$.sm(e).cssStyle("--success-color"):t.target.classList.contains("vMsgBox")&&t.target.classList.contains("clear")&&null!=t.target.parentNode&&t.target.parentNode.removeChild(t.target)}),document.addEventListener("focusin",function(e){"fbBtn"==e.target.getAttribute("id")&&(r(),"suc"==e.target.getAttribute("data-rs")&&null!=B&&B.close()),e.target.classList.contains("vItem")&&b.message.clear(e.target)},!1),document.addEventListener("click",function(e){e.target.classList.contains("vItem")&&b.message.clear(e.target)},!1),m=!0}},this.config={},this.validate=function(e,t,r,a=null){if(1==m){var n={val:null};c(e,n,"Obj.validate()"),validateObjectLiteral(t,"'Obj.validate()' method argument 2 is expected to be Object literal"),validateString(r,"'Obj.validate()' method argument 4 expects a string"),null!=a&&validateArray(a,"validate() method argument 5 must be an array of string '[a, b]', which holds a valid CSS styles for bottom or right or left messageBox");for(var o={},f=Object.keys(t),g=f.length,v=0;v<g;v++){var h=f[v].split(":");!function(e,t,r,a){if(null==r){if(void 0==k[e[0]])throw new Error("This rule "+e[0]+" is not supported");"callBack"==e[0]?t[e[0]]=a[e[0]]:t[e[0]]=1}else if(null!=r){var i=e.join(":");if(void 0==k[e[0]])throw new Error("This rule "+i+" is not supported");t[e[0]]=e[1]}}(h,o,2==h.length?"sub":null,t)}var p=e,y=d(e="single"==n.val?e:e[0]);if(void 0!=o.required){S=s(o,"required");if(!function(e,t){if("single"!=t){for(var r=!1,a=0;a<e.length;a++)if(("radio"==e[a].getAttribute("type")||"checkbox"==e[a].getAttribute("type"))&&e[a].checked){r=!0;break}return r}return function(e){return"text"==e.getAttribute("type")||"TEXTAREA"==e.nodeName}(e)?!(e.value.length<1):function(e){return"radio"==e.getAttribute("type")||"checkbox"==e.getAttribute("type")}(e)?!!e.checked:void 0}(p,n.val)){var w=(A=l(t["required"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.trim&&(e.value=e.value.trim()),void 0!=o.minLength){if(!function(e,t){if("text"==e.getAttribute("type")||"TEXTAREA"==e.nodeName)return!(e.value.length<t)}(e,(S=s(o,"minLength")).replace(":",""))){var w=(A=l(t["minLength"+S]))[0],L=A[1];return void b.message.write(e,w,r,L)}u(t,S,e,y)}if(void 0!=o.maxLength){if(!function(e,t){if("text"==e.getAttribute("type")||"TEXTAREA"==e.nodeName)return!(e.value.length>t)}(e,(S=s(o,"maxLength")).replace(":",""))){var w=(A=l(t["maxLength"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.email){S=s(o,"email");if(!function(e,t){if("single"==t&&("text"==e.getAttribute("type")||"TEXTAREA"==e.nodeName))return!!validateEmailAddress(e.value)}(e,n.val)){var w=(A=l(t["email"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.alpha){S=s(o,"alpha");if(!function(e){return/^[A-Za-z ]+$/.test(e.value)}(e)){var w=(A=l(t["alpha"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.alphaNum){S=s(o,"alphaNum");if(!function(e){return/^[A-Za-z0-9 ]+$/.test(e.value)}(e)){var w=(A=l(t["alphaNum"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.integer){S=s(o,"integer");if(!function(e){return/^[0-9]+$/.test(e.value)}(e)){var w=(A=l(t["integer"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.fullName){if("number"==typeof(x=function(e,t){var r=e.value.split(" "),a=!0,i=r.length;if(t=t<2?2:t,i<2)a=0;else if(i>t)a=1;else for(var n=0;n<i;n++)if(r[n].length<2){a=2;break}return a}(e,(S=s(o,"fullName")).replace(":","")))){if(void 0!=t["fullName"+S][x]){var w=(A=l(t["fullName"+S][x]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}}else"boolean"==typeof x&&1==x&&u(t,S,e,y)}if(void 0!=o.float){S=s(o,"float");if(!function(e){return/^[0-9]+\.[0-9]+$/.test(e.value)}(e)){var w=(A=l(t["float"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.noSpace){S=s(o,"noSpace");if(-1!=function(e){return e.value.search(" ")}(e)){var w=(A=l(t["noSpace"+S]))[0],L=A[1];return void b.message.write(e,w,r,L,a)}u(t,S,e,y)}if(void 0!=o.notIn){var S;if(!function(e,t){if("text"==e.getAttribute("type")||"TEXTAREA"==e.nodeName){for(var r=t.split(" "),a=r.length,i=e.value,n=!0,o=0;o<a;o++)if(-1!=i.indexOf(r[o])){n=!1;break}return n}}(e,(S=s(o,"notIn")).replace(":",""))){var w=(A=l(t["notIn"+S]))[0],L=A[1];return void b.message.write(e,w,r,L)}u(t,S,e,y)}if(void 0!=o.callBack){var x=o.callBack[0](b);if("number"==typeof x){if(x=x<1?1:x,void 0!=o.callBack[x]){var A=l(o.callBack[x]),w=A[0],L=A[1];return void b.message.write(e,w,r,L,a)}}else"boolean"==typeof x&&1==x&&u(t,"callBack",e,y)}}else i("validate")},this.updateCSRFToken=function(t){if(null==E)throw new Error("No CSRFToken Element specified for the form with the ID = '"+e.id+"'");validateString(t,"'Obj.updateCSRFToken(x)' method argument 1 expects a string"),E.value=t},this.logServerError=function(t){r(),t.forEach(function(t){var r=e.querySelector("[name='"+t.name+"']");null!=r&&b.message.write(r,"error",t.location,t.message)})},this.formOk=function(){return!(Object.keys(y).length>0)},this.submit=function(t=null,r,a=null){if(!m)throw new Error("'submit()' method must be called after initialization");validateString(r,"'feedBack()' method argument 2 must be a string specifying the URL"),function(){var t=e.querySelector(".vFormOverlay");t.classList.remove("vFormOverlayHide"),t.classList.add("vFormOverlayShow");var r=$$.ss(".FbMsgBox");if("button"==N){var a=e.querySelector("."+O);null==a?console.warn("No element matched with the specified class "+O+"for creating form loader"):(a.classList.add("initButtonLoader"),a.scrollHeight,a.classList.add("vButtonLoader"))}else null!=r&&r.classList.add("vFormLoader");null!=r&&(r.innerHTML="",r.classList.remove("FbMsgBox"))}();var i=new FormData(f),n=$$.ajax({method:p,url:r},"json");if(null!=t){validateObjectLiteral(t,"ssdsd");for(var o=Object.keys(t),s=o.length,l=0;l<s;l++)i.append(o[l],t[o[l]])}n.addEventListener("readystatechange",function(){if(2==n.readyState)A=!0;else if(4==n.readyState&&200==n.status)if(null!=$)var e=setTimeout(function(){$(b,n.responseText),clearTimeout(e)},1e3);else b.showFeedback()},!1),n.send(i)},this.showFeedback=function(t=null,r=null,i=null){if(null!=i&&"warning"!=i.toLowerCase()&&"success"!=i.toLowerCase()&&"error"!=i.toLowerCase())throw new Error("'showFeedback()' method argument 3 must either be: null, 'error', 'warning' or 'success'");!function(t,r,i){var n=$$.ss(".FbMsgBox");if(null!=n&&n.parentNode.removeChild(n),null!=t){var s=$$.ajax({method:"GET",url:t},"html");s.addEventListener("readystatechange",function(){if(2==s.readyState);else if(4==s.readyState)if(200==s.status)e.innerHTML=s.responseText;else{var t=e.querySelector(".vFormOverlay"),r=e.querySelector(".vFormLoader");t.removeChild(r),t.appendChild(o("warning","Form submitted but may not be successfully"))}},!1),s.send(data)}else{var l=e.querySelector(".vFormOverlay"),u=e.querySelector(".vFormLoader");null!=u&&l.removeChild(u),null==r?l.appendChild(o("success","Form submitted successfully")):l.appendChild(o(i,r))}"button"==N&&a()}(t,r,i)},Object.defineProperties(this.config,{bottomConStyle:{set:function(e){validateString(e,"A string of valid CSS style(s) needed for the 'bottomConStyle' property"),g=e}},leftConStyle:{set:function(e){validateString(e,"A string of valid CSS style(s) needed for the 'leftConStyle' property"),v=e}},rightConStyle:{set:function(e){validateString(e,"A string of valid CSS style(s) needed for the 'rightConStyle' property"),h=e}},modal:{set:function(e){validateObject(e,"'config.modal' property must be an object"),B=e}},feedBackController:{set:function(e){validateFunction(e,"'config.feedBackController' property value must be a function"),$=e}},progressIndicatorStyle:{set:function(e){validateString(e,"config.progressIndicatorStyle property  must be a string of valid CSS style"),x=e}},wrapperClassAttribute:{set:function(e){validateString(e,"config.wrapperClassAttribute property value expects a string"),F=e}},smallViewAttribute:{set:function(e){validateString(e,"config.wrapperClassAttribute property value expects a string"),C=e}},submissionMethod:{set:function(e){validateString(e,"config.submissionMethod property value expects a string"),e=e.toUpperCase(),void 0!=M[e]&&(p=e)}},loaderLocation:{set:function(e){if(validateString(e,"config.loaderLocation property value expects a string"),"form"!=(e=e.toLowerCase())&&"button"!=e)throw new Error("config.loaderLocation property value can either be 'form' or 'button'");if(""==O)throw new Error("You must specify the button class first, using config.submitButtonClass before selecting 'button' as loader location");N=e}},submitButtonClass:{set:function(e){validateString(e,"config.submitButtonClass property value expects a string"),O=e}},CSRFTokenElement:{set:function(e){validateElement(e,"config.CSRFTokenName property value expects a DOM Element"),E=e}}}),Object.defineProperties(this.message,{write:{writable:!1}}),Object.defineProperties(this,{config:{writable:!1},format:{writable:!1},validate:{writable:!1},message:{writable:!1},initialize:{writable:!1},submit:{writable:!1},formOk:{writable:!1},showFeedback:{writable:!1},hideProgress:{value:function(){r()}},updateCSRFToken:{writable:!1}})}FormValidator.format={currencyField:function(e,t){if(validateNumber(e,"Numeric (Amount) value needed as argument 1, for 'currencyField()' method"),validateString(t,"A string of lenght 1 (seperator) needed as argument 2, for 'currencyField()' method'")&&t.lenght>2)throw new Error("String lenght exceeded, string length must be <= 2, for 'currencyField' method' 2nd argument");var r=new String(e),a=r.length,i=0,n=0,o="",s=[],l=[],u=0;if(a>3){for(;a-3>0;)a-=3,s[i]=a,i++;for(var c=r.split(""),d=s.length-1;d>=0;d--)l[u]=s[d],u++;for(var f=0;f<c.length;f++)f==l[n]?(o=o+t+c[f],n++):o+=c[f];return o}return r},roundToDec:function(e,t){return validateNumber(e,"'roundToDec' method argument 1 must be numeric value"),validateNumber(t,"'roundToDec' method argument 2 must be numeric value"),Number(Math.round(e+"e"+t)+"e-"+t)},integerField:function(e){if(validateElement(e,"'integerField()' argument must be a valid HTML Element"),e.getAttribute(!0))throw new Error("'integerField()' argument must be an INPUT element of type 'text'");e.addEventListener("input",function(){var t=sanitizeInteger(e.value);e.value=t},!1)},wordSeperator:function(e,t,r=1){if(validateElement(e,"'wordSeperator(x..)' argument 1 must be a valid HTML Element"),validateString(t,"'wordSeperator(.x.)' argument 2 must be a string"),1!=r&&(validateInteger(e,"'wordSeperator(..x)' argument 3 must be an integer"),r=r<1?1:r),e.getAttribute(!0))throw new Error("'fullNameField()' argument must be an INPUT element of type 'text'");document.addEventListener("focusout",function(a){if(a.target==e){var i="",n=e.value.split(" ");if(n.length>1){for(var o=0;o<n.length;o++)""!=n[o]&&(i+=0==o?n[o]:t.repeat(r)+n[o]);e.value=i}}},!1)}},Object.defineProperties(FormValidator.format,{currencyField:{writable:!1},roundToDec:{writable:!1},integerField:{writable:!1},wordSeperator:{writable:!1}});