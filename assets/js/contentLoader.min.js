function ContentLoader(){function e(e){var t=e.getAttribute(c.containerId),a=$$.ss("#"+t),o=e.getAttribute(c.url).toLowerCase(),u=e.getAttribute(c.cache),d=e.getAttribute("data-link");if(u=null==u?u=!1:u.toLowerCase(),null==a&&console.error(e),validateElement(a,"No container found with the ID '"+t+"' for the element above"),a.setAttribute("data-state","receiving"),"true"==u)if("undefined"!=typeof Storage)if(void 0!=sessionStorage.pageLink){p=JSON.parse(sessionStorage.getItem("pageLink"));if(-1!=(b=Object.values(p)).indexOf(o)){var g=b.indexOf(o),f=JSON.parse(sessionStorage.getItem("linkContent"));r(a,(v=Object.values(f))[g],d),n(a),null!=l&&l(e)}else i(o,a,e,u)}else i(o,a,e,u);else if(void 0!=s.pageLink){var p=JSON.parse(s.pageLink),b=Object.values(p);if(-1!=b.indexOf(o)){var g=b.indexOf(o),f=JSON.parse(s.linkContent),v=Object.values(f);r(a,v[g],d),n(a),null!=l&&l(e)}else i(o,a,e,u)}else i(o,a,e,u);else i(o,a,e,u)}function t(){$$.sa("."+u).forEach(function(t){t.classList.add("vLoaderItem"),function(t){var i=t.getAttribute(c.trigger);null==i&&console.warn("This ContentLoader item element ",t,"has no load trigger set, specify using the attribute '"+c.trigger+"'");if("load"==i||"both"==i)if(null!=d&&""!=c.loaderMode){var n=t.getAttribute(c.loaderMode).toLowerCase();if("mobile"!=n&&"desktop"!=n)throw console.error(t),new Error("The above element attribute '"+c.loaderMode+"' must be set to either 'mobile' or 'desktop'");innerWidth<=d?"mobile"==n&&e(t):"desktop"==n&&e(t)}else e(t);t.setAttribute("data-link",$$.randomString())}(t)}),$$.attachEventHandler("click","vLoaderItem",function(t){var i=t.target.getAttribute(c.trigger).toLowerCase(),n=t.target.getAttribute("data-link"),r=$$.ss("#"+t.target.getAttribute(c.containerId)).getAttribute("data-link");"click"!=i&&"both"!=i||r!=n&&e(t.target)})}function i(e,t,i,a){var o=$$.ajax({method:"GET",url:e},"html"),u=t.querySelector(".runTime");o.addEventListener("load",function(){if("receiving"==t.getAttribute("data-state")){if(a)if("undefined"!=typeof Storage){void 0==sessionStorage.pageLink&&(sessionStorage.pageLink=JSON.stringify({}),sessionStorage.linkContent=JSON.stringify({}));var u=JSON.parse(sessionStorage.pageLink),d=JSON.parse(sessionStorage.linkContent);u[c=Object.keys(u).length]=e,d[c]=o.responseText,sessionStorage.pageLink=JSON.stringify(u),sessionStorage.linkContent=JSON.stringify(d)}else{void 0==s.pageLink&&(s.pageLink=JSON.stringify({}),s.linkContent=JSON.stringify({}));var u=JSON.parse(s.pageLink),d=JSON.parse(s.linkContent),c=Object.keys(u).length;u[c]=e,d[c]=o.responseText,s.pageLink=JSON.stringify(u),s.linkContent=JSON.stringify(d)}r(t,o.responseText),function(e){var t=e.parentNode.querySelector(".loaderCon");$$.sm(t).hide()}(t),n(t),null!=l&&l(i),t.setAttribute("data-state","received"),t.setAttribute("data-link",i.getAttribute("data-link"))}}),null!=u&&u.classList.remove("xShow"),function(e){var t=e.querySelector(".loaderCon");if(null==t){$$.sm(e).isPositioned()||(e.style.position="relative"),e.style.height="100%";var i=$$.ce("DIV");i.classList.add("loaderCon");var n=$$.ce("DIV");n.setAttribute("id","xSpin"),$$.sm(n).center(),i.appendChild(n),e.appendChild(i)}else $$.sm(t).unHide()}(t),o.send()}function n(e){var t=e.querySelector(".runTime");t.scrollHeight,t.classList.add("xShow")}function r(e,t,i){var n=e.querySelector(".runTime");if(null==n){var r=$$.ce("DIV",{class:"runTime"});e.appendChild(r),n=e.querySelector(".runTime")}n.innerHTML=t,e.setAttribute("data-link",i)}var a="",o=!1,s={},l=null,u="",d=null,c={containerId:"",url:"",trigger:"",loaderMode:""};this.initialize=function(){if(0==o){if(""!=a&&function(){var e="";""!=a[0]&&(e+=".loaderCon{"+a[0]+"}"),""!=a[1]&&(e+=".loaderCon #xSpin{"+a[1]+"}"),""!=a[2]&&(e+=".loaderCon #xSpin::before{"+a[2]+"}"),attachStyleSheet("contentLoader",e)}(),Object.keys(c).length<=3)throw new Error("Setup Incomplete: All required attributes to be used must be supplied. Supply using the config.dataAttributes property");if(""==u)throw new Error("Setup Incomplete: Item class not specified. Supply using the config.loaderItemClass property");t(),o=!0}},this.config={},Object.defineProperties(this,{loadFrom:{writable:!1},config:{writable:!1},initialize:{writable:!1},switch:{writable:!1}}),Object.defineProperties(this.config,{customStyle:{set:function(e){function t(e){return" array value element "+e+" must be a string or null"}var i="config.customStyle property",n=i+" value must ";validateArray(e,n+" be an array"),validateArrayLength(e,3,n+"be an array of 3 members"),null!=e[0]&&validateString(e[0],i+t(1)),null!=e[1]&&validateString(e[1],i+t(2)),null!=e[2]&&validateString(e[2],i+t(2)),a=e}},callback:{set:function(e){validateFunction(e,"config.callback property value must be a function"),l=e}},loaderItemClass:{set:function(e){validateString(e,"config.loaderItemClass property value expects a string"),u=e}},dataAttributes:{set:function(e){var t=["containerId","url","trigger","loaderMode","cache"];validateObjectLiteral(e,"'config.dataAttributes' property value must be an object");var i=Object.entries(e);if(!(i.length<6))throw new Error("'config.dataAttributes' object value contains more than 5 entries");i.forEach(function(e){if(-1==t.indexOf(e[0]))throw new Error("The data attribute specifier is not supported, the suported specifiers are: "+t.join(", "));c[e[0]]=e[1]})}},switchPoint:{set:function(e){d=e}}})}